!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.maquette={})}(this,function(e){var t,r,o="http://www.w3.org/2000/svg",n=[],i=function(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r},a=function(e,t){return e.vnodeSelector!==t.vnodeSelector?!1:e.properties&&t.properties?e.properties.key===t.properties.key:!e.properties&&!t.properties},d=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},s=function(e,t,r){for(var o=0;o<t.length;o++){var n=t[o];Array.isArray(n)?s(e,n,r):null!==n&&void 0!==n&&(n.hasOwnProperty("vnodeSelector")||(n=d(n)),r.push(n))}},p=function(){throw new Error("Provide a transitions object to the projectionOptions to do animations")},u={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r},transitions:{enter:p,exit:p}},c=function(e){return i(u,e)},f=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},l=function(e,t,r){if(t)for(var o=r.eventHandlerInterceptor,n=Object.keys(t),i=n.length,a=0;i>a;a++){var d=n[a],s=t[d];if("class"===d||"className"===d||"classList"===d)throw new Error("Property "+d+" is not supported, use classes.");if("classes"===d)for(var p=Object.keys(s),u=p.length,c=0;u>c;c++){var l=p[c];s[l]&&e.classList.add(l)}else if("styles"===d)for(var v=Object.keys(s),h=v.length,c=0;h>c;c++){var m=v[c],g=s[m];g&&(f(g),r.styleApplyer(e,m,g))}else{if("key"===d)continue;if(null===s||void 0===s)continue;var y=typeof s;"function"===y?(o&&0===d.lastIndexOf("on",0)&&(s=o(d,s,e,t),"oninput"===d&&!function(){var e=s;s=function(t){t.target["oninput-value"]=t.target.value,e.apply(this,[t])}}()),e[d]=s):"string"===y&&"value"!==d?e.setAttribute(d,s):e[d]=s}}},v=function(e,t,r,o){if(r){for(var n=!1,i=Object.keys(r),a=i.length,d=0;a>d;d++){var s=i[d],p=r[s],u=t[s];if("classes"===s)for(var c=e.classList,l=Object.keys(p),v=l.length,h=0;v>h;h++){var m=l[h],g=!!p[m],y=!!u[m];g!==y&&(n=!0,g?c.add(m):c.remove(m))}else if("styles"===s)for(var N=Object.keys(p),x=N.length,h=0;x>h;h++){var w=N[h],S=p[w],b=u[w];S!==b&&(n=!0,S?(f(S),o.styleApplyer(e,w,S)):o.styleApplyer(e,w,""))}else if(p||"string"!=typeof u||(p=""),"value"===s)e[s]!==p&&e["oninput-value"]!==p&&(e[s]=p,e["oninput-value"]=void 0),p!==u&&(n=!0);else if(p!==u){var A=typeof p;if("function"===A)throw new Error("Functions may not be updated on subsequent renders (property: "+s+"). Hint: declare event handler functions outside the render() function.");"string"===A?e.setAttribute(s,p):e[s]!==p&&(e[s]=p),n=!0}}return n}},h=function(e,t,r){if(""!==t.vnodeSelector)for(var o=r;o<e.length;o++)if(a(e[o],t))return o;return-1},m=function(e,t){if(e.properties){var r=e.properties.enterAnimation;r&&("function"==typeof r?r(e.domNode,e.properties):t.enter(e.domNode,e.properties,r))}},g=function(e,t){var r=e.domNode;if(e.properties){var o=e.properties.exitAnimation;if(o){r.style.pointerEvents="none";var n=function(){r.parentNode&&r.parentNode.removeChild(r)};return"function"==typeof o?void o(r,n,e.properties):void t.exit(e.domNode,e.properties,o,n)}}r.parentNode&&r.parentNode.removeChild(r)},y=function(e,t,r,o){var n=e[t];if(""!==n.vnodeSelector){var i=n.properties?n.properties.key:void 0;if(!i)for(var d=0;d<e.length;d++)if(d!==t){var s=e[d];if(a(s,n))throw"added"===o?new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable."):new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.")}}},N=function(e,o,i,d,s){if(i===d)return!1;i=i||n,d=d||n;for(var p,u=i.length,c=d.length,f=s.transitions,l=0,v=0,N=!1;c>v;){var x=u>l?i[l]:void 0,w=d[v];if(void 0!==x&&a(x,w))N=r(x,w,s)||N,l++;else{var S=h(i,w,l+1);if(S>=0){for(p=l;S>p;p++)g(i[p],f),y(i,p,e,"removed");N=r(i[S],w,s)||N,l=S+1}else t(w,o,u>l?i[l].domNode:void 0,s),m(w,f),y(d,v,e,"added")}v++}if(u>l)for(p=l;u>p;p++)g(i[p],f),y(i,p,e,"removed");return N},x=function(e,r,o){if(r)for(var n=0;n<r.length;n++)t(r[n],e,void 0,o)},w=function(e,t,r){x(e,t.children,r),t.text&&(e.textContent=t.text),l(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate(e,r,t.vnodeSelector,t.properties,t.children)};t=function(e,t,r,n){var a,d,s,p,u,c=0,f=e.vnodeSelector;if(""===f)a=e.domNode=document.createTextNode(e.text),void 0!==r?t.insertBefore(a,r):t.appendChild(a);else{for(d=0;d<=f.length;++d)s=f.charAt(d),(d===f.length||"."===s||"#"===s)&&(p=f.charAt(c-1),u=f.slice(c,d),"."===p?a.classList.add(u):"#"===p?a.id=u:("svg"===u&&(n=i(n,{namespace:o})),a=void 0!==n.namespace?e.domNode=document.createElementNS(n.namespace,u):e.domNode=document.createElement(u),void 0!==r?t.insertBefore(a,r):t.appendChild(a)),c=d+1);w(a,e,n)}},r=function(e,t,r){var n=e.domNode,a=!1;if(e===t)return a;var d=!1;return""===t.vnodeSelector?t.text!==e.text&&(n.nodeValue=t.text,a=!0):(0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=i(r,{namespace:o})),e.text!==t.text&&(d=!0,void 0===t.text?n.removeChild(n.firstChild):n.textContent=t.text),d=N(t,n,e.children,t.children,r)||d,d=v(n,e.properties,t.properties,r)||d,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate(n,r,t.vnodeSelector,t.properties,t.children)),d&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),t.domNode=e.domNode,a};var S=function(e,t){return{update:function(o){if(e.vnodeSelector!==o.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");r(e,o,t),e=o},domNode:e.domNode}};e.h=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o]},e.h=function(e){var t=arguments[1];if("string"!=typeof e)throw new Error;var r=1;!t||t.hasOwnProperty("vnodeSelector")||Array.isArray(t)||"object"!=typeof t?t=void 0:r=2;var o=void 0,n=void 0,i=arguments.length;if(i===r+1){var a=arguments[r];"string"==typeof a?o=a:void 0!==a&&1===a.length&&"string"==typeof a[0]&&(o=a[0])}if(void 0===o)for(n=[];r<arguments.length;r++){var p=arguments[r];null!==p&&void 0!==p&&(Array.isArray(p)?s(e,p,n):p.hasOwnProperty("vnodeSelector")?n.push(p):n.push(d(p)))}return{vnodeSelector:e,properties:t,children:n,text:o,domNode:null}},e.dom={create:function(e,r){return r=c(r),t(e,document.createElement("div"),void 0,r),S(e,r)},append:function(e,r,o){return o=c(o),t(r,e,void 0,o),S(r,o)},insertBefore:function(e,r,o){return o=c(o),t(r,e.parentNode,e,o),S(r,o)},merge:function(e,t,r){return r=c(r),t.domNode=e,w(e,t,r),S(t,r)}},e.createCache=function(){var e=void 0,t=void 0,r={invalidate:function(){t=void 0,e=void 0},result:function(r,o){if(e)for(var n=0;n<r.length;n++)e[n]!==r[n]&&(t=void 0);return t||(t=o(),e=r),t}};return r},e.createMapping=function(e,t,r){var o=[],n=[];return{results:n,map:function(i){for(var a=i.map(e),d=n.slice(),s=0,p=0;p<i.length;p++){var u=i[p],c=a[p];if(c===o[s])n[p]=d[s],r(u,d[s],p),s++;else{for(var f=!1,l=1;l<o.length;l++){var v=(s+l)%o.length;if(o[v]===c){n[p]=d[v],r(i[p],d[v],p),s=v+1,f=!0;break}}f||(n[p]=t(u,p))}}n.length=i.length,o=a}}},e.createProjector=function(r){var o;r=c(r),r.eventHandlerInterceptor=function(e,t){return function(){return o.scheduleRender(),t.apply(this,arguments)}};var n,i=!0,a=!1,d=[],s=[],p=function(){if(n=void 0,i){i=!1;for(var e=0;e<d.length;e++){var t=s[e]();d[e].update(t)}i=!0}};return o={scheduleRender:function(){n||a||(n=requestAnimationFrame(p))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),a=!0},resume:function(){a=!1,i=!0,o.scheduleRender()},append:function(t,o){d.push(e.dom.append(t,o(),r)),s.push(o)},insertBefore:function(t,o){d.push(e.dom.insertBefore(t,o(),r)),s.push(o)},merge:function(t,o){d.push(e.dom.merge(t,o(),r)),s.push(o)},replace:function(e,o){var n=o();t(n,e.parentNode,e,r),e.parentNode.removeChild(e),d.push(S(n,r)),s.push(o)}}}});
//# sourceMappingURL=maquette.min.js.map
