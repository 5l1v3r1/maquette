!function(e,r){"function"==typeof define&&define.amd?define(["exports"],r):r("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.maquette={})}(this,function(e){var r,t,o="http://www.w3.org/2000/svg",n=[],i=function(e,r){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r]}),r&&Object.keys(r).forEach(function(e){t[e]=r[e]}),t},a=function(e,r){return e.vnodeSelector!==r.vnodeSelector?!1:e.properties&&r.properties?e.properties.key===r.properties.key:!e.properties&&!r.properties},d=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:null===e||void 0===e?"":e.toString(),domNode:null}},s=function(e,r,t){for(var o=0;o<r.length;o++){var n=r[o];Array.isArray(n)?s(e,n,t):null!==n&&void 0!==n&&(n.hasOwnProperty("vnodeSelector")||(n=d(n)),t.push(n))}},p=function(){throw new Error("Provide a transitions object to the projectionOptions to do animations")},u={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(e,r,t){e.style[r]=t},transitions:{enter:p,exit:p}},c=function(e){return i(u,e)},f=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},l=function(e,r,t){if(r)for(var o=t.eventHandlerInterceptor,n=Object.keys(r),i=n.length,a=0;i>a;a++){var d=n[a],s=r[d];if("class"===d||"className"===d||"classList"===d)throw new Error("Property "+d+" is not supported, use classes.");if("classes"===d)for(var p=Object.keys(s),u=p.length,c=0;u>c;c++){var l=p[c];s[l]&&e.classList.add(l)}else if("styles"===d)for(var v=Object.keys(s),h=v.length,c=0;h>c;c++){var m=v[c],g=s[m];g&&(f(g),t.styleApplyer(e,m,g))}else{if("key"===d)continue;if(null===s||void 0===s)continue;var y=typeof s;"function"===y?(o&&0===d.lastIndexOf("on",0)&&(s=o(d,s,e,r),"oninput"===d&&!function(){var e=s;s=function(r){r.target["oninput-value"]=r.target.value,e.apply(this,[r])}}()),e[d]=s):"string"===y&&"value"!==d?e.setAttribute(d,s):e[d]=s}}},v=function(e,r,t,o){if(t){for(var n=!1,i=Object.keys(t),a=i.length,d=0;a>d;d++){var s=i[d],p=t[s],u=r[s];if("classes"===s)for(var c=e.classList,l=Object.keys(p),v=l.length,h=0;v>h;h++){var m=l[h],g=!!p[m],y=!!u[m];g!==y&&(n=!0,g?c.add(m):c.remove(m))}else if("styles"===s)for(var w=Object.keys(p),N=w.length,h=0;N>h;h++){var x=w[h],S=p[x],b=u[x];S!==b&&(n=!0,S?(f(S),o.styleApplyer(e,x,S)):o.styleApplyer(e,x,""))}else if(p||"string"!=typeof u||(p=""),"value"===s)e[s]!==p&&e["oninput-value"]!==p&&(e[s]=p,e["oninput-value"]=void 0),p!==u&&(n=!0);else if(p!==u){var A=typeof p;if("function"===A)throw new Error("Functions may not be updated on subsequent renders (property: "+s+"). Hint: declare event handler functions outside the render() function.");"string"===A?e.setAttribute(s,p):e[s]!==p&&(e[s]=p),n=!0}}return n}},h=function(e,r,t){if(""!==r.vnodeSelector)for(var o=t;o<e.length;o++)if(a(e[o],r))return o;return-1},m=function(e,r){if(e.properties){var t=e.properties.enterAnimation;t&&("function"==typeof t?t(e.domNode,e.properties):r.enter(e.domNode,e.properties,t))}},g=function(e,r){var t=e.domNode;if(e.properties){var o=e.properties.exitAnimation;if(o){t.style.pointerEvents="none";var n=function(){t.parentNode&&t.parentNode.removeChild(t)};return"function"==typeof o?void o(t,n,e.properties):void r.exit(e.domNode,e.properties,o,n)}}t.parentNode&&t.parentNode.removeChild(t)},y=function(e,r,t,o){var n=e[r];if(""!==n.vnodeSelector){var i=n.properties?n.properties.key:void 0;if(!i)for(var d=0;d<e.length;d++)if(d!==r){var s=e[d];if(a(s,n))throw"added"===o?new Error(t.vnodeSelector+" had a "+n.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable."):new Error(t.vnodeSelector+" had a "+n.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.")}}},w=function(e,o,i,d,s){if(i===d)return!1;i=i||n,d=d||n;for(var p,u=i.length,c=d.length,f=s.transitions,l=0,v=0,w=!1;c>v;){var N=u>l?i[l]:void 0,x=d[v];if(void 0!==N&&a(N,x))w=t(N,x,s)||w,l++;else{var S=h(i,x,l+1);if(S>=0){for(p=l;S>p;p++)g(i[p],f),y(i,p,e,"removed");w=t(i[S],x,s)||w,l=S+1}else r(x,o,u>l?i[l].domNode:void 0,s),m(x,f),y(d,v,e,"added")}v++}if(u>l)for(p=l;u>p;p++)g(i[p],f),y(i,p,e,"removed");return w},N=function(e,t,o){if(t)for(var n=0;n<t.length;n++)r(t[n],e,void 0,o)},x=function(e,r,t){N(e,r.children,t),r.text&&(e.textContent=r.text),l(e,r.properties,t),r.properties&&r.properties.afterCreate&&r.properties.afterCreate(e,t,r.vnodeSelector,r.properties,r.children)};r=function(e,r,t,n){var a,d,s,p,u,c=0,f=e.vnodeSelector;if(""===f)a=e.domNode=document.createTextNode(e.text),void 0!==t?r.insertBefore(a,t):r.appendChild(a);else{for(d=0;d<=f.length;++d)s=f.charAt(d),(d===f.length||"."===s||"#"===s)&&(p=f.charAt(c-1),u=f.slice(c,d),"."===p?a.classList.add(u):"#"===p?a.id=u:("svg"===u&&(n=i(n,{namespace:o})),a=void 0!==n.namespace?e.domNode=document.createElementNS(n.namespace,u):e.domNode=document.createElement(u),void 0!==t?r.insertBefore(a,t):r.appendChild(a)),c=d+1);x(a,e,n)}},t=function(e,r,t){var n=e.domNode;if(!n)throw new Error("previous node was not rendered");var a=!1;if(e===r)return a;var d=!1;return""===r.vnodeSelector?r.text!==e.text&&(n.nodeValue=r.text,a=!0):(0===r.vnodeSelector.lastIndexOf("svg",0)&&(t=i(t,{namespace:o})),e.text!==r.text&&(d=!0,void 0===r.text?n.removeChild(n.firstChild):n.textContent=r.text),d=w(r,n,e.children,r.children,t)||d,d=v(n,e.properties,r.properties,t)||d,r.properties&&r.properties.afterUpdate&&r.properties.afterUpdate(n,t,r.vnodeSelector,r.properties,r.children)),d&&r.properties&&r.properties.updateAnimation&&r.properties.updateAnimation(n,r.properties,e.properties),r.domNode=e.domNode,a};var S=function(e,r){if(!e.vnodeSelector)throw new Error("Invalid vnode argument");return{update:function(o){if(e.vnodeSelector!==o.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");t(e,o,r),e=o},domNode:e.domNode}};e.h=function(e){var r=arguments[1];if("string"!=typeof e)throw new Error;var t=1;!r||r.hasOwnProperty("vnodeSelector")||Array.isArray(r)||"object"!=typeof r?r=void 0:t=2;var o=void 0,n=void 0,i=arguments.length;if(i===t+1){var a=arguments[t];"string"==typeof a?o=a:void 0!==a&&1===a.length&&"string"==typeof a[0]&&(o=a[0])}if(void 0===o)for(n=[];t<arguments.length;t++){var p=arguments[t];null!==p&&void 0!==p&&(Array.isArray(p)?s(e,p,n):p.hasOwnProperty("vnodeSelector")?n.push(p):n.push(d(p)))}return{vnodeSelector:e,properties:r,children:n,text:o,domNode:null}},e.dom={create:function(e,t){return t=c(t),r(e,document.createElement("div"),void 0,t),S(e,t)},append:function(e,t,o){return o=c(o),r(t,e,void 0,o),S(t,o)},insertBefore:function(e,t,o){return o=c(o),r(t,e.parentNode,e,o),S(t,o)},merge:function(e,r,t){return t=c(t),r.domNode=e,x(e,r,t),S(r,t)}},e.createCache=function(){var e=void 0,r=void 0,t={invalidate:function(){r=void 0,e=void 0},result:function(t,o){if(e)for(var n=0;n<t.length;n++)e[n]!==t[n]&&(r=void 0);return r||(r=o(),e=t),r}};return t},e.createMapping=function(e,r,t){var o=[],n=[];return{results:n,map:function(i){for(var a=i.map(e),d=n.slice(),s=0,p=0;p<i.length;p++){var u=i[p],c=a[p];if(c===o[s])n[p]=d[s],t(u,d[s],p),s++;else{for(var f=!1,l=1;l<o.length;l++){var v=(s+l)%o.length;if(o[v]===c){n[p]=d[v],t(i[p],d[v],p),s=v+1,f=!0;break}}f||(n[p]=r(u,p))}}n.length=i.length,o=a}}},e.createProjector=function(t){var o;t=c(t),t.eventHandlerInterceptor=function(e,r){return function(){return o.scheduleRender(),r.apply(this,arguments)}};var n,i=!0,a=!1,d=[],s=[],p=function(){if(n=void 0,i){i=!1;for(var e=0;e<d.length;e++){var r=s[e]();d[e].update(r)}i=!0}};return o={scheduleRender:function(){n||a||(n=requestAnimationFrame(p))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),a=!0},resume:function(){a=!1,i=!0,o.scheduleRender()},append:function(r,o){d.push(e.dom.append(r,o(),t)),s.push(o)},insertBefore:function(r,o){d.push(e.dom.insertBefore(r,o(),t)),s.push(o)},merge:function(r,o){d.push(e.dom.merge(r,o(),t)),s.push(o)},replace:function(e,o){var n=o();r(n,e.parentNode,e,t),e.parentNode.removeChild(e),d.push(S(n,t)),s.push(o)}}}});
//# sourceMappingURL=maquette.min.js.map
