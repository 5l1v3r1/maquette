!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.maquette={})}(this,function(e){var t="http://www.w3.org/2000/svg",r=[],o=function(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r},n=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:null===e||void 0===e?"":e.toString(),domNode:null}},i=function(e,t,r){for(var o=0;o<t.length;o++){var d=t[o];Array.isArray(d)?i(e,d,r):null!==d&&void 0!==d&&(d.hasOwnProperty("vnodeSelector")||(d=n(d)),r.push(d))}},d=function(){throw new Error("Provide a transitions object to the projectionOptions to do animations")},a={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r},transitions:{enter:d,exit:d}},s=function(e){return o(a,e)},p=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},u=function(e,t,r){if(t)for(var o=r.eventHandlerInterceptor,n=Object.keys(t),i=n.length,d=0;i>d;d++){var a=n[d],s=t[a];if("class"===a||"className"===a||"classList"===a)throw new Error("Property "+a+" is not supported, use classes.");if("classes"===a)for(var u=Object.keys(s),c=u.length,f=0;c>f;f++){var l=u[f];s[l]&&e.classList.add(l)}else if("styles"===a)for(var v=Object.keys(s),h=v.length,f=0;h>f;f++){var m=v[f],g=s[m];g&&(p(g),r.styleApplyer(e,m,g))}else{if("key"===a)continue;if(null===s||void 0===s)continue;var y=typeof s;"function"===y?(o&&0===a.lastIndexOf("on",0)&&(s=o(a,s,e,t),"oninput"===a&&!function(){var e=s;s=function(t){t.target["oninput-value"]=t.target.value,e.apply(this,[t])}}()),e[a]=s):"string"===y&&"value"!==a?e.setAttribute(a,s):e[a]=s}}},c=function(e,t,r,o){if(r){for(var n=!1,i=Object.keys(r),d=i.length,a=0;d>a;a++){var s=i[a],u=r[s],c=t[s];if("classes"===s)for(var f=e.classList,l=Object.keys(u),v=l.length,h=0;v>h;h++){var m=l[h],g=!!u[m],y=!!c[m];g!==y&&(n=!0,g?f.add(m):f.remove(m))}else if("styles"===s)for(var w=Object.keys(u),N=w.length,h=0;N>h;h++){var x=w[h],S=u[x],b=c[x];S!==b&&(n=!0,S?(p(S),o.styleApplyer(e,x,S)):o.styleApplyer(e,x,""))}else if(u||"string"!=typeof c||(u=""),"value"===s)e[s]!==u&&e["oninput-value"]!==u&&(e[s]=u,e["oninput-value"]=void 0),u!==c&&(n=!0);else if(u!==c){var A=typeof u;if("function"===A)throw new Error("Functions may not be updated on subsequent renders (property: "+s+"). Hint: declare event handler functions outside the render() function.");"string"===A?e.setAttribute(s,u):e[s]!==u&&(e[s]=u),n=!0}}return n}},f=function(e,t,r){if(t)for(var o=0;o<t.length;o++)w(t[o],e,void 0,r)},l=function(e,t){return e.vnodeSelector!==t.vnodeSelector?!1:e.properties&&t.properties?e.properties.key===t.properties.key:!e.properties&&!t.properties},v=function(e,t,r){if(""!==t.vnodeSelector)for(var o=r;o<e.length;o++)if(l(e[o],t))return o;return-1},h=function(e,t){if(e.properties){var r=e.properties.enterAnimation;r&&("function"==typeof r?r(e.domNode,e.properties):t.enter(e.domNode,e.properties,r))}},m=function(e,t){var r=e.domNode;if(e.properties){var o=e.properties.exitAnimation;if(o){r.style.pointerEvents="none";var n=function(){r.parentNode&&r.parentNode.removeChild(r)};return"function"==typeof o?void o(r,n,e.properties):void t.exit(e.domNode,e.properties,o,n)}}r.parentNode&&r.parentNode.removeChild(r)},g=function(e,t,r,o){var n=e[t];if(""!==n.vnodeSelector){var i=n.properties?n.properties.key:void 0;if(!i)for(var d=0;d<e.length;d++)if(d!==t){var a=e[d];if(l(a,n))throw"added"===o?new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable."):new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.")}}},y=function(e,t,o,n,i){if(o===n)return!1;o=o||r,n=n||r;for(var d,a=o.length,s=n.length,p=i.transitions,u=0,c=0,f=!1;s>c;){var y=a>u?o[u]:void 0,N=n[c];if(void 0!==y&&l(y,N))f=x(y,N,i)||f,u++;else{var S=v(o,N,u+1);if(S>=0){for(d=u;S>d;d++)m(o[d],p),g(o,d,e,"removed");f=x(o[S],N,i)||f,u=S+1}else w(N,t,a>u?o[u].domNode:void 0,i),h(N,p),g(n,c,e,"added")}c++}if(a>u)for(d=u;a>d;d++)m(o[d],p),g(o,d,e,"removed");return f},w=function(e,r,n,i){var d,a,s,p,u,c=0,f=e.vnodeSelector;if(""===f)d=e.domNode=document.createTextNode(e.text),void 0!==n?r.insertBefore(d,n):r.appendChild(d);else{for(a=0;a<=f.length;++a)s=f.charAt(a),(a===f.length||"."===s||"#"===s)&&(p=f.charAt(c-1),u=f.slice(c,a),"."===p?d.classList.add(u):"#"===p?d.id=u:("svg"===u&&(i=o(i,{namespace:t})),d=void 0!==i.namespace?e.domNode=document.createElementNS(i.namespace,u):e.domNode=document.createElement(u),void 0!==n?r.insertBefore(d,n):r.appendChild(d)),c=a+1);N(d,e,i)}},N=function(e,t,r){f(e,t.children,r),t.text&&(e.textContent=t.text),u(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate(e,r,t.vnodeSelector,t.properties,t.children)},x=function(e,r,n){var i=e.domNode;if(!i)throw new Error("previous node was not rendered");var d=!1;if(e===r)return d;var a=!1;return""===r.vnodeSelector?r.text!==e.text&&(i.nodeValue=r.text,d=!0):(0===r.vnodeSelector.lastIndexOf("svg",0)&&(n=o(n,{namespace:t})),e.text!==r.text&&(a=!0,void 0===r.text?i.removeChild(i.firstChild):i.textContent=r.text),a=y(r,i,e.children,r.children,n)||a,a=c(i,e.properties,r.properties,n)||a,r.properties&&r.properties.afterUpdate&&r.properties.afterUpdate(i,n,r.vnodeSelector,r.properties,r.children)),a&&r.properties&&r.properties.updateAnimation&&r.properties.updateAnimation(i,r.properties,e.properties),r.domNode=e.domNode,d},S=function(e,t){if(!e.vnodeSelector)throw new Error("Invalid vnode argument");return{update:function(r){if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");x(e,r,t),e=r},domNode:e.domNode}};e.h=function(e){var t=arguments[1];if("string"!=typeof e)throw new Error;var r=1;!t||t.hasOwnProperty("vnodeSelector")||Array.isArray(t)||"object"!=typeof t?t=void 0:r=2;var o=void 0,d=void 0,a=arguments.length;if(a===r+1){var s=arguments[r];"string"==typeof s?o=s:void 0!==s&&1===s.length&&"string"==typeof s[0]&&(o=s[0])}if(void 0===o)for(d=[];r<arguments.length;r++){var p=arguments[r];null!==p&&void 0!==p&&(Array.isArray(p)?i(e,p,d):p.hasOwnProperty("vnodeSelector")?d.push(p):d.push(n(p)))}return{vnodeSelector:e,properties:t,children:d,text:o,domNode:null}},e.dom={create:function(e,t){return t=s(t),w(e,document.createElement("div"),void 0,t),S(e,t)},append:function(e,t,r){return r=s(r),w(t,e,void 0,r),S(t,r)},insertBefore:function(e,t,r){return r=s(r),w(t,e.parentNode,e,r),S(t,r)},merge:function(e,t,r){return r=s(r),t.domNode=e,N(e,t,r),S(t,r)}},e.createCache=function(){var e=void 0,t=void 0,r={invalidate:function(){t=void 0,e=void 0},result:function(r,o){if(e)for(var n=0;n<r.length;n++)e[n]!==r[n]&&(t=void 0);return t||(t=o(),e=r),t}};return r},e.createMapping=function(e,t,r){var o=[],n=[];return{results:n,map:function(i){for(var d=i.map(e),a=n.slice(),s=0,p=0;p<i.length;p++){var u=i[p],c=d[p];if(c===o[s])n[p]=a[s],r(u,a[s],p),s++;else{for(var f=!1,l=1;l<o.length;l++){var v=(s+l)%o.length;if(o[v]===c){n[p]=a[v],r(i[p],a[v],p),s=v+1,f=!0;break}}f||(n[p]=t(u,p))}}n.length=i.length,o=d}}},e.createProjector=function(t){t=s(t),t.eventHandlerInterceptor=function(e,t){return function(){return p.scheduleRender(),t.apply(this,arguments)}};var r,o=!0,n=!1,i=[],d=[],a=function(){if(r=void 0,o){o=!1;for(var e=0;e<i.length;e++){var t=d[e]();i[e].update(t)}o=!0}},p={scheduleRender:function(){r||n||(r=requestAnimationFrame(a))},stop:function(){r&&(cancelAnimationFrame(r),r=void 0),n=!0},resume:function(){n=!1,o=!0,p.scheduleRender()},append:function(r,o){i.push(e.dom.append(r,o(),t)),d.push(o)},insertBefore:function(r,o){i.push(e.dom.insertBefore(r,o(),t)),d.push(o)},merge:function(r,o){i.push(e.dom.merge(r,o(),t)),d.push(o)},replace:function(e,r){var o=r();w(o,e.parentNode,e,t),e.parentNode.removeChild(e),i.push(S(o,t)),d.push(r)}};return p}});
//# sourceMappingURL=maquette.min.js.map
